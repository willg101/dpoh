@import "@{defaults}";

@keyframes pulsing-background
{
	0%
	{
		@scale: 0;
		opacity: 1;
		-webkit-transform: scale(@scale, @scale);
		transform:  scale(@scale, @scale);
	}

	100%
	{
		@scale: 1;
		opacity: 0;
		-webkit-transform: scale(@scale, @scale);
		transform:  scale(@scale, @scale);
	}
}

.toolbar
{
	height: 46px;
	position: relative;
	text-align: center;
	background: @toolbar-bg;
	z-index: 2;
	display: flex;

	.window-separator
	{
		max-height: 25px;
		vertical-align: middle;
		opacity: .4;
		margin: 0 @default-spacing-sm/2;
		.transition();

		&:first-child
		{
			opacity: 0;
		}
	}

	.session-indicator
	{
		.transition();
		padding: 2px 6px;
		background: @subtle-highlight;
		color: @toolbar-fg;
		font-weight: bold;
		cursor: pointer;

		&.inactive,
		&.no-connection
		{
			color: @semitransparent-white;
		}

		&.no-connection
		{
			cursor: not-allowed;
		}

		&:hover:not(.no-connection)
		{
			background: @subtle-highlight * 4;
		}
	}

	#status_indicator
	{
		padding: 15px;
		position: relative;
		.transition();

		&.disconnected
		{
			color: @red;
		}

		&.connected
		{
			color: @yellow;
		}

		&.session-in-progress
		{
			color: @active-color;
			position: relative;

			&:after
			{
				display: block;
				content: " ";
				position: absolute;
				top: 0;
				left: 0;
				animation: pulsing-background 2s infinite;
				background-color: @active-color;
				width: 100%;
				height: 100%;
				border-radius: 50px;
			}
		}
	}
}

.session-table
{
	width: 100%;
	border-collapse: collapse;

	tr
	{
		.transition();

		&:not(.active)
		{
			cursor: pointer;
			&:hover
			{
				background: @selectable-hover-color;
			}

			&:active
			{
				.transition();
				transform: scale( .95 );
			}
		}

		&.active
		{
			.session-random-art:before
			{
				font: normal normal normal 18px/1  "Font Awesome 5 Free";
				font-weight: 900;
				display: block;
				content: "\f058";
				position: absolute;
				top: ~"calc( 50% - 9px )";
				width: 100%;
				text-align: center;
				color: @active-color;
				text-shadow: @text-shadow, @text-shadow;
			}
		}

		td
		{
			width: 0;
			overflow: hidden;
			white-space: nowrap;
			text-overflow: ellipsis;
			vertical-align: middle;

			.session-random-art
			{
				background-position: center;
				width: 40px;
				height: 40px;
				display: inline-block;
				background-size: cover;
				position: relative;
			}

			&.img-cell
			{
				padding: @default-spacing-sm 0 @default-spacing-sm @default-spacing-sm;
				width: 0;
			}

			&:not(.img-cell)
			{
				padding: @default-spacing-sm;
				width: 100%;

				.file
				{
					font-weight: bold;
				}

				.host
				{
					color: @deemphasized-text-color;
				}

				.file,
				.host
				{
					display: block;
				}
			}
		}
	}
}
